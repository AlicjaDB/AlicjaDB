import style from "../src/podstrona.scss";





///// Pogoda /////

let button8 = document.querySelector('.submit8');
let pogoda = document.querySelector('.pogoda');
let name = document.querySelector('.name');
let desc = document.querySelector('.desc');
let temp= document.querySelector('.temp');
let tempvalue=document.getElementById("temp-value");
let icon =document.getElementById('icon');
 
button8.addEventListener('click', function(){

fetch('https://api.openweathermap.org/data/2.5/weather?q='+pogoda.value+'&appid=20c5e6a815d03428798c0eef34f7402d')


.then(response => response.json())
.then(data => {
const nameValue = data['name'];
const tempValue = data['main']['temp'];
const descValue = data['weather'][0]['description'];
const iconUrl =`http://openweathermap.org/img/w/${data.weather[0].icon}.png` 
icon.setAttribute('src', iconUrl);
name.innerHTML =nameValue;
desc.innerHTML = descValue;
tempvalue.innerHTML=Math.round(tempValue-273);
})
    
.catch(err => alert("Wrong city name!"));
});

/// Szczegoły lotu //////


///// Wybrany samolot/////

const plane = document.querySelector(".plane");
const planeE = document.querySelector(".planeE");
const planeS = document.querySelector(".planeS");
console.log(plane);
let btn8=document.querySelector("#btn8");
console.log(btn8);
btn8.addEventListener('click', function(){
    document.getElementById("planefly");
    if (document.querySelector("#planefly").value === "Embraer") {
      planeE.classList.add('active1');
    } 
    if (document.querySelector("#planefly").value === "Boeing 787") {
    plane.classList.add('active');
    }
    if (document.querySelector("#planefly").value === "Boeing 737") {
    planeS.classList.add('active2');
    } 
    else {
    
    alert("wpisz Embraer, Boeing787, Boeing 737")
    }
  });




////// samolot/////


const seatsArray = ["s01", "s02", "s03", "s04", "s09"];

for (var i = 0; i < seatsArray.length; i++) {
console.log(seatsArray[i]);


document.getElementById(seatsArray[i]).addEventListener("click", function () {
    console.log("i", i); //ok
    console.log("id", this.id); //ok
    console.log(seatsArray); //ok
    console.log("całosć", seatsArray[i]); //not ok
    if (document.getElementById(this.id).getAttribute("class") == "occupied") {
    document.getElementById(this.id).removeAttribute("style");
    document.getElementById(this.id).setAttribute("class", "free");
    } else {
    document.getElementById(this.id).removeAttribute("style");
    document.getElementById(this.id).setAttribute("class", "occupied");
    }
    
    
    document.getElementById("value").innerHTML = "";
    document.getElementById("miejsce").innerHTML = this.id;
  })

function button_reset() {
document.getElementById("value").innerHTML = "";
}};

/// waluta /////

const currency = document.getElementById('currency'),
  
  showOption2 = document.getElementById('datachange'),
  inputValue = document.getElementById('value');

currency.addEventListener('change', function () {
  fetch(`https://api.nbp.pl/api/exchangerates/rates/a/${this.value}/?format=json`)
    .then((resp) => resp.json())
    .then(function (data) {
      console.log(data);
     
      showOption2.innerHTML = ` ${(((inputValue.value)/(data.rates[0].mid)).toFixed(2))} `;
    })
});

///// ceny////

function calculate(price){
let item = document.getElementById("SelectFirst").value || 0;

let qty = document.getElementById("qty").value || 0;
  
item = parseFloat(item).toFixed(2);
qty = parseFloat(qty).toFixed(2);
  
const result = parseFloat(item*qty).toFixed(2);
                  
  document.getElementById("result").value=result;
}
































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































